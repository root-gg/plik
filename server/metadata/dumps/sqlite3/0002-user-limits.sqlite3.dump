PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE migrations (id VARCHAR(255) PRIMARY KEY);
INSERT INTO migrations VALUES('SCHEMA_INIT');
INSERT INTO migrations VALUES('0001-initial');
INSERT INTO migrations VALUES('0002-user-limits');
CREATE TABLE `uploads` (`id` text,`ttl` integer,`remote_ip` text,`comments` text,`upload_token` text,`user` text,`token` text,`stream` numeric,`one_shot` numeric,`removable` numeric,`protected_by_password` numeric,`login` text,`password` text,`created_at` datetime,`deleted_at` datetime,`expire_at` datetime,PRIMARY KEY (`id`));
INSERT INTO uploads VALUES('UPLOAD1XXXXXXXXX',3600,'1.3.3.7','愛 الحب 사랑 αγάπη любовь प्यार Սեր माया','UPLOADTOKENXXXXXXXXXXXXXXXXXXXXX','','',0,1,1,0,'foo','bar','2000-01-01 00:00:00+00:00',NULL,'2000-01-01 01:00:00+00:00');
INSERT INTO uploads VALUES('UPLOAD2XXXXXXXXX',0,'','','UPLOADTOKENXXXXXXXXXXXXXXXXXXXXX','google:googleuser','',0,0,0,0,'','','2022-02-02 01:30:01.827516949+01:00',NULL,NULL);
INSERT INTO uploads VALUES('UPLOAD3XXXXXXXXX',0,'','','UPLOADTOKENXXXXXXXXXXXXXXXXXXXXX','google:googleuser','8cbaeacd-6a3e-4636-4200-607a6e240688',0,0,0,0,'','','2022-02-02 01:30:01.828066426+01:00',NULL,NULL);
INSERT INTO uploads VALUES('UPLOAD4XXXXXXXXX',0,'','','UPLOADTOKENXXXXXXXXXXXXXXXXXXXXX','','',0,0,0,0,'','','2022-02-02 01:30:01.828606869+01:00',NULL,NULL);
CREATE TABLE `files` (`id` text,`upload_id` text,`name` text,`status` text,`md5` text,`type` text,`size` integer,`reference` text,`backend_details` text,`created_at` datetime,PRIMARY KEY (`id`),CONSTRAINT `fk_uploads_files` FOREIGN KEY (`upload_id`) REFERENCES `uploads`(`id`));
INSERT INTO files VALUES('FILE1XXXXXXXXXXX','UPLOAD1XXXXXXXXX','愛愛愛','','ccea80b85af4f156af9d4d3b94e91a5e','application/awesome',42,'1','{foo:"bar"}','2022-02-02 01:30:01.827062222+01:00');
INSERT INTO files VALUES('FILE2XXXXXXXXXXX','UPLOAD2XXXXXXXXX','filename','','','',0,'','','2022-02-02 01:30:01.8276629+01:00');
INSERT INTO files VALUES('FILE3XXXXXXXXXXX','UPLOAD3XXXXXXXXX','filename','','','',0,'','','2022-02-02 01:30:01.828208945+01:00');
CREATE TABLE `users` (`id` text,`provider` text,`login` text,`password` text,`name` text,`email` text,`is_admin` numeric,`max_file_size` integer,`max_ttl` integer,`created_at` datetime,PRIMARY KEY (`id`));
INSERT INTO users VALUES('local:admin','local','admin','$2a$14$s103BdAMxYV96BunH9hefOEpXnmMzHBmif6tcsQHZkioFeoeHiuRu','Plik Admin','admin@root.gg',1,100000000000,31536000,'2022-02-02 01:30:01.825854604+01:00');
INSERT INTO users VALUES('google:googleuser','google','user@root.gg','','Plik User','user@root.gg',0,0,0,'2022-02-02 01:30:01.826471068+01:00');
CREATE TABLE `tokens` (`token` text,`comment` text,`user_id` text,`created_at` datetime,PRIMARY KEY (`token`),CONSTRAINT `fk_users_tokens` FOREIGN KEY (`user_id`) REFERENCES `users`(`id`));
INSERT INTO tokens VALUES('e78415ed-883e-4d0b-5d0e-fe2d03757520','admin token','local:admin','2022-02-02 01:30:01.826202978+01:00');
INSERT INTO tokens VALUES('8cbaeacd-6a3e-4636-4200-607a6e240688','user token','google:googleuser','2022-02-02 01:30:01.82669265+01:00');
CREATE TABLE `settings` (`key` text,`value` text,PRIMARY KEY (`key`));
INSERT INTO settings VALUES('key1','val1');
CREATE INDEX `idx_upload_user_token` ON `uploads`(`token`);
CREATE INDEX `idx_upload_user` ON `uploads`(`user`);
CREATE INDEX `idx_upload_expire_at` ON `uploads`(`expire_at`);
CREATE INDEX `idx_upload_deleted_at` ON `uploads`(`deleted_at`);
COMMIT;
